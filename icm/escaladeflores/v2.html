<!DOCTYPE html>

<html>
  <head>
    <style>
      canvas {
        box-shadow: -1px 1px 4px 0px grey;
      }
    </style>
    <meta charset="utf-8" />
    <title></title>
  </head>

  <body>
    <canvas id="canvas" width="960" height="720"></canvas>
    <script>
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");
      const img = new Image();
      img.onload = () => ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

      async function setBackground() {
        const imgSrc = "https://raw.githubusercontent.com/ferreirad08/ferreirad08.github.io/refs/heads/main/icm/escaladeflores/assets/flores.jfif";
        const blob = await (await fetch(imgSrc)).blob();
        const reader = new FileReader();
        reader.onloadend = () => img.src = reader.result;
        reader.readAsDataURL(blob);
      }

      setBackground();

      function downloadJPG() {
        const a = document.createElement("a");
        a.download = "escaladeflores.jpg";
        a.href = canvas.toDataURL("image/jpeg");
        a.click();
      }

      downloadJPG();
    </script>
  </body>
</html>
